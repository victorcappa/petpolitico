using UnityEngine;
using UnityEngine.UI;

public class Cargos : MonoBehaviour {
    int indiceCargoPersonagem;
    public string cargo;
    public Text cargo_txtUI;


	void Start () {
        CargosPersonagens();
        //PlayerPrefs.DeleteAll();

		
	}
	
	void Update () {
        CargosPersonagens();
	}

    public void CargosPersonagens()
    {
        if (PlayerPrefs.GetInt("LulaDentroScene") == 1)
        {
            indiceCargoPersonagem = 0;
            cargo_txtUI.text = cargo;

            // MUDAR DE CARGO LULA

            if (PlayerPrefs.GetInt("LevelLula") < 3)
            {
                PlayerPrefs.SetString("CargoLula", "Candidato");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 70);

            }
        

            if (PlayerPrefs.GetInt("LevelLula") == 3)
            {
                PlayerPrefs.SetInt("MaxInflu", 100); // mesmo que a pop não seja >=51, o maxInflu deve ser esse

                if (PlayerPrefs.GetFloat("PopularidadeLula") >= 51)
                {
                    PlayerPrefs.SetString("CargoLula", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoLula");
                    PlayerPrefs.SetInt("PassouCargoLula", 1); // para verificar se ele já passou para esse cargo
                }

            }
            if (PlayerPrefs.GetInt("LevelLula") == 6)
            {
                PlayerPrefs.SetInt("MaxInflu", 120);

                if (PlayerPrefs.GetFloat("PopularidadeLula") >= 51)
                {
                    PlayerPrefs.SetString("CargoLula", "Deputado");
                    cargo = PlayerPrefs.GetString("CargoLula");
                    PlayerPrefs.SetInt("PassouCargoLula", 1);
                }

            }

            if (PlayerPrefs.GetInt("LevelLula") == 10)
            {
                PlayerPrefs.SetInt("MaxInflu", 150);

                if (PlayerPrefs.GetFloat("PopularidadeLula") >= 51)
                {
                    PlayerPrefs.SetString("CargoLula", "Prefeito");
                    cargo = PlayerPrefs.GetString("CargoLula");
                    PlayerPrefs.SetInt("PassouCargoLula", 1);
                }
            }

                if (PlayerPrefs.GetInt("LevelLula") == 20)
                { 
                    PlayerPrefs.SetInt("MaxInflu", 180);

                    if (PlayerPrefs.GetFloat("PopularidadeLula") >= 51)
                    {
                        PlayerPrefs.SetString("CargoLula", "Governador");
                        cargo = PlayerPrefs.GetString("CargoLula");
                        PlayerPrefs.SetInt("PassouCargoLula", 1);
                    }
                }

                if (PlayerPrefs.GetInt("LevelLula") == 30)
                {
                    PlayerPrefs.SetInt("MaxInflu", 200);

                    if (PlayerPrefs.GetFloat("PopularidadeLula") >= 51)
                    {
                        PlayerPrefs.SetString("CargoLula", "Presidente");
                        cargo = PlayerPrefs.GetString("CargoLula");
                        PlayerPrefs.SetInt("PassouCargoLula", 1);
                    }
                }

            // ---------------------------------------------- //

            //  MANTER O CARGO LULA //

            if (PlayerPrefs.GetInt("LevelLula") >= 3 && PlayerPrefs.GetInt("PassouCargoLula") == 1)

            {
                PlayerPrefs.SetString("CargoLula", "Vereador");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 100);

            }
            if (PlayerPrefs.GetInt("LevelLula") >= 6 && PlayerPrefs.GetInt("PassouCargoLula") == 1)
            {
                PlayerPrefs.SetString("CargoLula", "Deputado");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 120);

            }

            if (PlayerPrefs.GetInt("LevelLula") >= 10 && PlayerPrefs.GetInt("PassouCargoLula") == 1)
            {
                PlayerPrefs.SetString("CargoLula", "Prefeito");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 150);

            }

            if (PlayerPrefs.GetInt("LevelLula") >= 20 && PlayerPrefs.GetInt("PassouCargoLula") == 1)
            {
                PlayerPrefs.SetString("CargoLula", "Governador");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 180);

            }

            if (PlayerPrefs.GetInt("LevelLula") >= 30 && PlayerPrefs.GetInt("PassouCargoLula") == 1)
            {
                PlayerPrefs.SetString("CargoLula", "Presidente");
                cargo = PlayerPrefs.GetString("CargoLula");
                PlayerPrefs.SetInt("MaxInflu", 200);


            }
        }

            // MUDAR DE CARGO CIRO



        if (PlayerPrefs.GetInt("CiroDentroScene") == 1)
        {
            indiceCargoPersonagem = 1;
            cargo_txtUI.text = cargo;

            if (PlayerPrefs.GetInt("LevelCiro") < 3)
            {
                PlayerPrefs.SetString("CargoCiro", "Candidato");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 70);
            }


            if (PlayerPrefs.GetInt("LevelCiro") == 3)

            {
                PlayerPrefs.SetInt("MaxInflu", 100);

               if (PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                {
                    PlayerPrefs.SetString("CargoCiro", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoCiro");
                    PlayerPrefs.SetInt("PassouCargoCiro", 1);
                }

            }
                if (PlayerPrefs.GetInt("LevelCiro") == 6)
                {
                    PlayerPrefs.SetInt("MaxInflu", 120);

                    if (PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                    {
                        PlayerPrefs.SetString("CargoCiro", "Deputado");
                        cargo = PlayerPrefs.GetString("CargoCiro");
                        PlayerPrefs.SetInt("PassouCargoCiro", 1);
                    }
                }

                if (PlayerPrefs.GetInt("LevelCiro") == 10)
                {
                    PlayerPrefs.SetInt("MaxInflu", 150);

                    if (PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                    {
                        PlayerPrefs.SetString("CargoCiro", "Deputado");
                        cargo = PlayerPrefs.GetString("CargoCiro");
                        PlayerPrefs.SetInt("PassouCargoCiro", 1);
                    }
                }

                if (PlayerPrefs.GetInt("LevelCiro") == 20)
                {
                    PlayerPrefs.SetInt("MaxInflu", 180);

                    if (PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                    {
                        PlayerPrefs.SetString("CargoCiro", "Deputado");
                        cargo = PlayerPrefs.GetString("CargoCiro");
                        PlayerPrefs.SetInt("PassouCargoCiro", 1);
                    }
                }

            if (PlayerPrefs.GetInt("LevelCiro") == 30 && PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                {
                    PlayerPrefs.SetInt("MaxInflu", 200);

                    if (PlayerPrefs.GetFloat("PopularidadeCiro") >= 51)
                    {
                        PlayerPrefs.SetString("CargoCiro", "Deputado");
                        cargo = PlayerPrefs.GetString("CargoCiro");
                        PlayerPrefs.SetInt("PassouCargoCiro", 1);
                    }
                }

            // ---------------------------------------------- //

            //  MANTER O CARGO CIRO //

            if (PlayerPrefs.GetInt("LevelCiro") >= 3 && PlayerPrefs.GetInt("PassouCargoCiro") == 1)

            {
                PlayerPrefs.SetString("CargoCiro", "Vereador");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 100);

            }
            if (PlayerPrefs.GetInt("LevelCiro") >= 6 && PlayerPrefs.GetInt("PassouCargoCiro") == 1)
            {
                PlayerPrefs.SetString("CargoCiro", "Deputado");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 120);
            }

            if (PlayerPrefs.GetInt("LevelCiro") >= 10 && PlayerPrefs.GetInt("PassouCargoCiro") == 1)
            {
                PlayerPrefs.SetString("CargoCiro", "Prefeito");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 150);
            }

            if (PlayerPrefs.GetInt("LevelCiro") >= 20 && PlayerPrefs.GetInt("PassouCargoCiro") == 1)
            {
                PlayerPrefs.SetString("CargoCiro", "Governador");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 180);
            }

            if (PlayerPrefs.GetInt("LevelCiro") >= 30 && PlayerPrefs.GetInt("PassouCargoCiro") == 1)
            {
                PlayerPrefs.SetString("CargoCiro", "Presidente");
                cargo = PlayerPrefs.GetString("CargoCiro");
                PlayerPrefs.SetInt("MaxInflu", 200);
            }


        }

        // CARGO BOLSONARO
        /* Foi necessário fazer duas condicionais diferentes
         * uma verifica se ele atingiu o level limite e se a popularidade >=51
         * a outra verifica se o level >= ao limite e se ele ja passou de cargo
         * dessa forma, se ele estiver no level 4, mas a popularidade não estiver >= 51, ainda vai continuar sendo Vereador
        */

        if (PlayerPrefs.GetInt("BolsoDentroScene") == 1)
        {
            indiceCargoPersonagem = 2;
            cargo_txtUI.text = cargo;

            // MUDAR DE CARGO BOLSO

            if (PlayerPrefs.GetInt("LevelBolso") < 3)
            {
                PlayerPrefs.SetString("CargoBolso", "Candidato");
                cargo = PlayerPrefs.GetString("CargoBolso");
                PlayerPrefs.SetInt("MaxInflu", 70);
            }
            if (PlayerPrefs.GetInt("LevelBolso") == 3)
            {
                PlayerPrefs.SetInt("MaxInflu", 100);

                if (PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
                {
                    PlayerPrefs.SetString("CargoBolso", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                    PlayerPrefs.SetInt("PassouCargoBolso", 1);
                }
            }
            if (PlayerPrefs.GetInt("LevelBolso") == 6 && PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
            {
                PlayerPrefs.SetInt("MaxInflu", 120);

                if (PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
                {
                    PlayerPrefs.SetString("CargoBolso", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                    PlayerPrefs.SetInt("PassouCargoBolso", 1);
                }
            }

            if (PlayerPrefs.GetInt("LevelBolso") == 10 && PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
            {
                PlayerPrefs.SetInt("MaxInflu", 150);

                if (PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
                {
                    PlayerPrefs.SetString("CargoBolso", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                    PlayerPrefs.SetInt("PassouCargoBolso", 1);
                }
            }

            if (PlayerPrefs.GetInt("LevelBolso") == 20 && PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
            {
                PlayerPrefs.SetInt("MaxInflu", 180);

                if (PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
                {
                    PlayerPrefs.SetString("CargoBolso", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                    PlayerPrefs.SetInt("PassouCargoBolso", 1);
                }
            }

            if (PlayerPrefs.GetInt("LevelBolso") == 30 && PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
            {
                PlayerPrefs.SetInt("MaxInflu", 200);

                if (PlayerPrefs.GetFloat("PopularidadeBolsonaro") >= 51)
                {
                    PlayerPrefs.SetString("CargoBolso", "Vereador");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                    PlayerPrefs.SetInt("PassouCargoBolso", 1);
                }
            }

            // ---------------------------------------------- //

            //  MANTER O CARGO BOLSO //



            if (PlayerPrefs.GetInt("LevelBolso") >= 3 && PlayerPrefs.GetInt("PassouCargoBolso") == 1)
            {
                PlayerPrefs.SetString("CargoBolso", "Vereador");
                cargo = PlayerPrefs.GetString("CargoBolso");
                PlayerPrefs.SetInt("MaxInflu", 100);

            }
            if (PlayerPrefs.GetInt("LevelBolso") >= 6 && PlayerPrefs.GetInt("PassouCargoBolso") == 1)
            {
                PlayerPrefs.SetString("CargoBolso", "Deputado");
                cargo = PlayerPrefs.GetString("CargoBolso");
                PlayerPrefs.SetInt("MaxInflu", 120);

            }

            if (PlayerPrefs.GetInt("LevelBolso") >= 10 && PlayerPrefs.GetInt("PassouCargoBolso") == 1)
            {
                PlayerPrefs.SetString("CargoBolso", "Prefeito");
                cargo = PlayerPrefs.GetString("CargoBolso");
                PlayerPrefs.SetInt("MaxInflu", 150);

            }

            if (PlayerPrefs.GetInt("LevelBolso") >= 20 && PlayerPrefs.GetInt("PassouCargoBolso") == 1)
            {
                PlayerPrefs.SetString("CargoBolso", "Governador");
                cargo = PlayerPrefs.GetString("CargoBolso");
                PlayerPrefs.SetInt("MaxInflu", 180);

            }

            if (PlayerPrefs.GetInt("LevelBolso") >= 30)

            {
                PlayerPrefs.SetInt("MaxInflu", 200);


                if (PlayerPrefs.GetInt("PassouCargoBolso") == 1)
                {
                    PlayerPrefs.SetString("CargoBolso", "Presidente");
                    cargo = PlayerPrefs.GetString("CargoBolso");
                }

            }


        }

    }
}
